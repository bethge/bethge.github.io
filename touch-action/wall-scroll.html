<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <script src="/pep-master.js"></script> -->
    <style>
      .box {
        width: 300px;
        height: 30px;
        border: 2px solid black;
        padding: 20px;
        overflow: scroll;
      }
      #pan-x {
        touch-action: pan-x;
      }
      .needs-scroll {
        width: 400px;
        height: 100px;
        background: lightblue;
      }
    </style>
  </head>
  <body>
    <div class ="box" id="auto">touch-action: auto</div>
    <div class ="box" id="pan-x">touch-action: pan-x</div>
    <div class ="box" id="pan-x">touch-action: pan-x with scrollable content<div class="needs-scroll"></div></div>
    <div>touch-action supported: <span id="touchActionSupported">&#x2716</span></div>
    <div>Pointer events supported: <span id="pointereventsSupported">&#x2716</span></div>
    <p>Check the developer console for events ... !</p>
    <script>
      // Check touch-action support.
      var div = document.createElement('div');
      div.style.setProperty('touch-action', 'none');
      var supported = div.style.getPropertyValue('touch-action') === 'none';
      if (supported) {
        document.querySelector('#touchActionSupported').innerHTML = '&#x2714';
      }

      // Check pointer events support.
      if (window.PointerEvent) {
        document.querySelector('#pointereventsSupported').innerHTML = '&#x2714';
      }

      // Attach Listeners
      document.addEventListener('touchmove', function(e) {
        if (e.cancelable) {
            console.log('Touchmove: ' + e.timeStamp + ' - cancelable: ' + e.cancelable);
          } else {
            console.log('%cTouchmove: ' + e.timeStamp + ' - cancelable: ' + e.cancelable, 'color: red');
          }
      });
      document.addEventListener('pointermove', function(e) {
        console.log('Pointermove: ' + e.timeStamp);
      });
      document.addEventListener('pointercancel', function(e) {
        console.log('%cPointercancel: ' + e.timeStamp, 'color:purple');
      });
    </script>
  </body>
</html>
